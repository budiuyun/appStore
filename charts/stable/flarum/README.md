# flarum

Flarum是一个简约优雅的开源论坛软件

## 应用介绍

本应用提供以下功能：
- 现代化论坛系统：简洁美观的用户界面
- 响应式设计：适配各种设备屏幕
- 扩展系统：支持丰富的插件和主题
- 标签系统：便捷的内容分类和管理
- 支持持久化存储：确保数据安全

## 配置说明

| 参数 | 说明 | 默认值 |
|------|------|--------|
| 镜像标签 | Flarum版本 | `latest` |
| 服务端口 | Web服务端口 | `80` |
| 资源限制 | CPU和内存限制 | 见下文 |
| 持久化存储 | 数据存储配置 | 见下文 |

### 资源配置
- CPU限制: 500m（相当于0.5核心）
- 内存限制: 512Mi（相当于512MB）
- CPU请求: 200m（相当于0.2核心）
- 内存请求: 256Mi（相当于256MB）

### 持久化存储配置
- 启用持久化: true（建议开启）
- 挂载路径: /var/www/html
- 存储大小: 2Gi（可根据需求调整）
- 存储类: local（取决于集群环境）

## 数据存储

Flarum的数据默认存储在容器的 `/var/www/html` 目录中。启用持久化存储后，数据将保存在持久卷中，即使容器重启也不会丢失。

**提示**：请确保分配足够的存储空间，特别是如果您预计论坛会有大量用户和内容。

## 使用说明

1. 部署应用后，可通过以下方式访问服务：
   - Web界面：访问服务的80端口

2. 首次访问时，系统将自动完成初始化：
   - 使用环境变量中配置的管理员信息创建账号
   - 设置论坛基本信息
   - 配置数据库连接

3. 论坛管理：
   - 登录管理后台可进行论坛设置
   - 安装和配置扩展和主题
   - 管理用户和内容

## 数据库配置

Flarum需要MySQL数据库。您可以通过环境变量配置数据库连接信息：

| 环境变量 | 描述 | 默认值 |
|---------|------|--------|
| DB_HOST | MySQL数据库主机地址 | `mysql` |
| DB_PORT | MySQL数据库端口 | `3306` |
| DB_DATABASE | Flarum数据库名称 | `flarum` |
| DB_USERNAME | 数据库用户名 | `flarum` |
| DB_PASSWORD | 数据库密码 | `flarum` |
| FLARUM_BASE_URL | Flarum站点URL | `https://example.com` |
| FLARUM_ADMIN_USER | Flarum管理员用户名 | `admin` |
| FLARUM_ADMIN_PASS | Flarum管理员密码 | `password` |
| FLARUM_ADMIN_MAIL | Flarum管理员邮箱 | `admin@example.com` |
| FLARUM_TITLE | Flarum论坛标题 | `我的论坛` |

## 安全注意事项

- 生产环境中请设置强密码
- 考虑使用HTTPS保护用户数据
- 定期更新Flarum和插件
- 定期备份论坛数据和数据库