# 卡密验证系统

卡密验证系统 💳🔐 是一款基于 PHP 和 MySQL 开发的轻量级卡密管理工具，适用于虚拟商品销售、会员服务授权等场景。

## 工作负载类型

此Helm Chart使用 `Deployment` 工作负载类型。

- 使用Deployment工作负载类型可确保系统的高可用性和易于管理

## 参数

| 参数                | 描述               | 默认值         |
|---|-----|---|
| replicaCount        | 副本数量           | `1`           |
| workloadType        | 工作负载类型       | `Deployment`  |
| image.repository    | 镜像名称           | `niehaoran/kami`   |
| image.tag           | 镜像标签           | `0.2`         |
| image.pullPolicy    | 镜像拉取策略       | `IfNotPresent`|
| service.type        | 服务类型           | `ClusterIP`   |
| persistence.enabled | 是否启用持久化存储 | `true`        |
| persistence.size    | 存储大小           | `1Gi`         |

## 介绍
📖 项目介绍  
卡密验证系统是一款基于PHP和MySQL开发的轻量级卡密管理工具，适用于虚拟商品销售、会员服务授权等场景。
它提供了卡密生成、验证和管理的全套功能，支持加密内容和文件的绑定，帮助您快速部署自己的卡密验证服务。

🌟 功能介绍  
- 🛠 卡密验证功能
  - 支持用户输入卡密进行验证
  - 验证成功后显示绑定的加密内容或允许下载绑定的加密文件
  - 支持剩余时间倒计时，实时提示用户卡密状态

- 🎛 管理员功能
  - 生成卡密：自定义卡密长度、有效时长
  - 支持绑定加密内容和文件生成一对一卡密
  - 管理卡密：查看使用状态、一键清理过期卡密
  - 加密内容实时更新：支持HTML格式和代码高亮显示
  - 修改密码：管理员可以修改登录密码

## 使用说明
### 初始设置
1. 部署完成后，通过浏览器访问应用
2. 首次访问会自动跳转到安装向导页面
3. 按照向导配置数据库连接信息

### 持久化存储
系统会挂载以下目录:
- `/var/www/html/uploads`: 保存上传的文件
- `/var/www/html/config.php`: 保存数据库配置

### 环境要求
- PHP 7.4+（推荐更高版本以提升安全性）
- MySQL 5.7+ 或更高版本

### 常见问题
- 数据库连接失败？确保数据库主机名、用户名和密码正确无误。确认数据库服务器已启动。
- 文件上传失败？检查uploads目录是否有写入权限。
- 如何重新安装系统？删除install.lock文件，然后访问http://域名/install.php重新安装。

## 出处
该应用基于niehaoran/kami:0.2镜像构建。

## 图片介绍
![截图1](https://images.budiuyun.net/i/2025/06/19/685406c40449b.jpg)
![截图2](https://images.budiuyun.net/i/2025/06/19/685406c478b22.jpg)