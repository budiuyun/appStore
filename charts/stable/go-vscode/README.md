# Go VSCode

æµè§ˆå™¨ä¸­è¿è¡Œçš„Goå¼€å‘ç¯å¢ƒï¼Œé›†æˆVSCodeç¼–è¾‘å™¨å’ŒGoè¿è¡Œæ—¶ã€‚

## æè¿°

Go VSCode æ˜¯ä¸€ä¸ªåŸºäº code-server çš„Goå¼€å‘ç¯å¢ƒï¼Œæä¾›äº†å®Œæ•´çš„Goå¼€å‘ä½“éªŒã€‚è¯¥é•œåƒé¢„è£…äº†Go 1.21ã€å¸¸ç”¨çš„Goå¼€å‘å·¥å…·ï¼ˆgoplsã€delveã€goimportsï¼‰ä»¥åŠä¼˜åŒ–çš„å›½å†…ç½‘ç»œé…ç½®ã€‚

## ç‰¹æ€§

- ğŸ¹ Go 1.21 è¿è¡Œæ—¶ç¯å¢ƒ
- ğŸ“ VSCodeç¼–è¾‘å™¨ç•Œé¢
- ğŸ› ï¸ é¢„è£…å¼€å‘å·¥å…·ï¼šgoplsã€delveã€goimports
- ğŸŒ å›½å†…ç½‘ç»œä¼˜åŒ–ï¼šGOPROXYã€GOSUMDBé…ç½®
- ğŸ’¾ æŒä¹…åŒ–å­˜å‚¨æ”¯æŒ
- ğŸ” å¯†ç ä¿æŠ¤è®¿é—®
- ğŸŒ Webç•Œé¢è®¿é—®

## é…ç½®è¯´æ˜

### åŸºç¡€é…ç½®

| å‚æ•° | æè¿° | é»˜è®¤å€¼ |
|------|------|--------|
| `image.repository` | é•œåƒåç§° | `niehaoran/go-vscode` |
| `image.tag` | é•œåƒæ ‡ç­¾ | `latest` |
| `service.ports[0].port` | æœåŠ¡ç«¯å£ | `8080` |

### ç¯å¢ƒå˜é‡

| å˜é‡å | æè¿° | é»˜è®¤å€¼ |
|--------|------|--------|
| `CODE_SERVER_PASSWORD` | code-serverè®¿é—®å¯†ç  | `golang123` |
| `CODE_SERVER_PORT` | code-serverè¿è¡Œç«¯å£ | `8080` |
| `GO111MODULE` | Goæ¨¡å—æ”¯æŒ | `on` |
| `GOPROXY` | Goä»£ç†è®¾ç½® | `https://goproxy.cn,https://goproxy.io,direct` |
| `GOSUMDB` | Goæ ¡éªŒæ•°æ®åº“ | `sum.golang.google.cn` |
| `CGO_ENABLED` | CGOæ”¯æŒ | `0` |
| `GOOS` | ç›®æ ‡æ“ä½œç³»ç»Ÿ | `linux` |
| `GOARCH` | ç›®æ ‡æ¶æ„ | `amd64` |

### å­˜å‚¨é…ç½®

é»˜è®¤å¯ç”¨æŒä¹…åŒ–å­˜å‚¨ï¼Œå°† `/app` ç›®å½•æŒ‚è½½åˆ°æŒä¹…å·ã€‚

| å‚æ•° | æè¿° | é»˜è®¤å€¼ |
|------|------|--------|
| `persistence.enabled` | å¯ç”¨æŒä¹…åŒ–å­˜å‚¨ | `true` |
| `persistence.size` | å­˜å‚¨å¤§å° | `10Gi` |
| `persistence.mounts[0]` | æŒ‚è½½è·¯å¾„ | `/app` |

### èµ„æºé…ç½®

| å‚æ•° | æè¿° | é»˜è®¤å€¼ |
|------|------|--------|
| `resources.limits.cpu` | CPUé™åˆ¶ | `500m` |
| `resources.limits.memory` | å†…å­˜é™åˆ¶ | `1024Mi` |
| `resources.requests.cpu` | CPUè¯·æ±‚ | `250m` |
| `resources.requests.memory` | å†…å­˜è¯·æ±‚ | `512Mi` |

## ä½¿ç”¨è¯´æ˜

> **âš ï¸ é‡è¦æç¤º**  
> æ³¨æ„ï¼šè¯·ä¸€å®šæ­é…åº”ç”¨è·¯ç”±æ¥ä½¿ç”¨

1. éƒ¨ç½²åº”ç”¨åï¼Œé€šè¿‡Webæµè§ˆå™¨è®¿é—®åº”ç”¨åœ°å€
2. ä½¿ç”¨é…ç½®çš„å¯†ç ç™»å½•ï¼ˆé»˜è®¤ï¼š`golang123`ï¼‰
3. åœ¨ `/app` ç›®å½•ä¸‹åˆ›å»ºå’Œç¼–è¾‘Goä»£ç 
4. ä½¿ç”¨å†…ç½®ç»ˆç«¯è¿è¡ŒGoç¨‹åº

## é¢„è£…å·¥å…·

- **Go 1.21**: æœ€æ–°çš„Goè¿è¡Œæ—¶
- **code-server**: Webç‰ˆVSCodeç¼–è¾‘å™¨
- **å¼€å‘å·¥å…·**:
  - gopls: Goè¯­è¨€æœåŠ¡å™¨
  - delve (dlv): Goè°ƒè¯•å™¨
  - goimports: å¯¼å…¥ç®¡ç†å·¥å…·
- **ç½‘ç»œä¼˜åŒ–**:
  - å›½å†…GOPROXYä»£ç†é…ç½®
  - ä¼˜åŒ–çš„GOSUMDBè®¾ç½®

## å¼€å‘ç¯å¢ƒç‰¹æ€§

### Goç¯å¢ƒé…ç½®
- æ”¯æŒGo Modules
- é¢„é…ç½®å›½å†…ä»£ç†ï¼ŒåŠ é€ŸåŒ…ä¸‹è½½
- é™æ€ç¼–è¯‘é…ç½®ï¼ˆCGO_ENABLED=0ï¼‰
- Linux/amd64ç›®æ ‡å¹³å°

### å¼€å‘å·¥å…·é›†æˆ
- **è¯­è¨€æœåŠ¡å™¨**: goplsæä¾›æ™ºèƒ½ä»£ç è¡¥å…¨ã€è·³è½¬å®šä¹‰ç­‰åŠŸèƒ½
- **è°ƒè¯•æ”¯æŒ**: delveè°ƒè¯•å™¨æ”¯æŒæ–­ç‚¹è°ƒè¯•
- **ä»£ç æ ¼å¼åŒ–**: è‡ªåŠ¨å¯¼å…¥ç®¡ç†å’Œä»£ç æ ¼å¼åŒ–

### å·¥ä½œæµç¨‹
1. åœ¨ `/app` ç›®å½•åˆ›å»ºGoé¡¹ç›®
2. ä½¿ç”¨ `go mod init` åˆå§‹åŒ–æ¨¡å—
3. ç¼–å†™Goä»£ç ï¼Œäº«å—IDEåŠŸèƒ½
4. ä½¿ç”¨å†…ç½®ç»ˆç«¯è¿è¡Œ `go run`ã€`go build`ã€`go test`

## é•œåƒä¿¡æ¯

åŸºäº `niehaoran/go-vscode:latest` é•œåƒæ„å»ºï¼Œè¯¥é•œåƒåŒ…å«ï¼š

- Go 1.21-bullseye åŸºç¡€é•œåƒ
- code-server Webç¼–è¾‘å™¨
- é¢„è£…Goå¼€å‘å·¥å…·
- å›½å†…ç½‘ç»œä¼˜åŒ–é…ç½®
- érootç”¨æˆ·è¿è¡Œï¼ˆdeveloperç”¨æˆ·ï¼‰

## ç¤ºä¾‹é¡¹ç›®

åˆ›å»ºä¸€ä¸ªç®€å•çš„Hello Worldé¡¹ç›®ï¼š

```bash
# åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œ
cd /app
mkdir hello-world
cd hello-world
go mod init hello-world

# åˆ›å»ºmain.goæ–‡ä»¶
echo 'package main

import "fmt"

func main() {
    fmt.Println("Hello, Go World!")
}' > main.go

# è¿è¡Œç¨‹åº
go run main.go
``` 